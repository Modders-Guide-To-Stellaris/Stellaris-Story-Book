namespace= ssp_gamestart

#spawn coven
country_event = {
    id = ssp_gamestart.1
    hide_window = yes
    trigger = {
        exists = owner
        has_civic = civic_ssp_coven_system
        is_country_type = default
        NOT = {
            has_origin = origin_void_dwellers
        }
    }

    is_triggered_only = yes

    immediate = {
        capital_scope = {
                if = {
                    limit = {
                        OR = {
                        has_building = building_sacrificial_temple_1
                        has_building = building_temple
                        has_building = building_low_tech_admin_hub
                        }
                   }
                        remove_building = building_sacrificial_temple_1
                        remove_building = building_low_tech_admin_hub
                        remove_building = building_temple
                }

            if = {
                limit = {
                    free_building_slots <= 0
                    has_district = district_generator
                    has_district = district_city
                }
                remove_district = district_generator
                add_district = district_city
            }
            add_building = building_coven_castle_1
        }
    }
}

country_event = {
    hide_window = yes
    id = ssp_gamestart.2

    trigger = {
        exists = owner
        has_civic = civic_ssp_coven_system
        is_country_type = default
        NOT = {
            has_origin = origin_void_dwellers
        }
    }

    is_triggered_only = yes

    immediate = {
        country_event = { id = ssp_gamestart.3 }
        capital_scope = {
            if = {
                limit = {
                    OR = {
                        has_building = building_coven_castle_1
                    }
                }
                random_list = {
                    16 = {
                        #set_planet_flag = ssp_job.1#healing
                        #factor = 0
                        healingjob = yes
                    }
                    17 = {
                        #set_planet_flag = ssp_job.2#plant
                        #factor = 0
                        plantjob = yes
                    }
                    17 = {
                        #set_planet_flag = ssp_job.3#construction
                        #factor = 0
                        constructionjob = yes
                    }
                    16 = {
                        #set_planet_flag = ssp_job.4#illusion
                        #factor = 0
                        illusionjob = yes
                    }
                    17 = {
                        #set_planet_flag = ssp_job.5#oracle
                        #factor = 0
                        oraclejob = yes
                    }
                    17 = {
                        #set_planet_flag = ssp_job.6#bard
                        #factor = 0
                        bardjob = yes
                    }
                }
                country_event = { id = ssp_gamestart.3 }
            }
        }
    }
}

country_event = {
    hide_window = yes
    id = ssp_gamestart.3

    trigger = {
        exists = owner
        has_civic = civic_ssp_coven_system
        is_country_type = default
        NOT = {
            has_origin = origin_void_dwellers
        }
    }

    is_triggered_only = yes

    immediate = {
        capital_scope = {
            if = {
                limit = {
                    OR = {
                        has_building = building_coven_castle_1
                    }
                }
                random_list = {
                    16 = {
                        #set_planet_flag = ssp_job.1#healing
                        #factor = 0
                        healingjob = yes
                    }
                    17 = {
                        #set_planet_flag = ssp_job.2#plant
                        #factor = 0
                        plantjob = yes
                    }
                    17 = {
                        #set_planet_flag = ssp_job.3#construction
                        #factor = 0
                        constructionjob = yes
                    }
                    16 = {
                        #set_planet_flag = ssp_job.4#illusion
                        #factor = 0
                        illusionjob = yes
                    }
                    17 = {
                        #set_planet_flag = ssp_job.5#oracle
                        #factor = 0
                        oraclejob = yes
                    }
                    17 = {
                        #set_planet_flag = ssp_job.6#bard
                        #factor = 0
                        bardjob = yes
                    }
                }
            }
        }
    }
}







