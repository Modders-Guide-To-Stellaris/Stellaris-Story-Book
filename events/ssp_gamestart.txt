namespace= ssp_gamestart

#spawn coven
country_event = {
    id = ssp_gamestart.1
    hide_window = yes
    trigger = {
        exists = owner
        has_civic = civic_ssp_coven_system
        is_country_type = default
        NOT = {
            has_origin = origin_void_dwellers
        }
    }

    is_triggered_only = yes

    immediate = {
        capital_scope = {
            if = {
                limit = {
                    has_building = building_low_tech_admin_hub
                }
                remove_building = building_low_tech_admin_hub
            }
            if = {
                limit = {
                    free_building_slots <= 0
                    has_district = district_generator
                    has_district = district_city
                }
                remove_district = district_generator
                add_district = district_city
            }
            add_building = building_coven_castle_1
        }
    }
    immediate = {
        capital_scope = {
            if = {
                limit = {
                    has_building = building_sacrificial_temple_1
                }
                        remove_building = building_sacrificial_temple_1
                    }
                    if = {
                        limit = {
                            free_building_slots <= 0
                            has_district = district_generator
                            has_district = district_city
                        }
                        remove_district = district_generator
                         add_district = district_city
                    }
                    add_building = building_coven_castle_1
        }
    }
}